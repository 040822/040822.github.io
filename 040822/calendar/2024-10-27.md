
## 再探蒙特卡罗
在[[2024-07-22]]中我们简要提到了QMC算法，下边咱们将深入探索这个算法，并尝试用其改造已有的一些mc程序。

[(8 条消息) 有哪些算法惊艳到了你？ - 知乎 (zhihu.com)](https://www.zhihu.com/question/26934313/answer/3014154438)
拟蒙特卡洛算法QMC
[准蒙特卡罗模拟 --- Quasi-Monte Carlo Simulation (archive.org)](https://web.archive.org/web/20120621193817/http://www.puc-rio.br/marco.ind/quasi_mc.html)
PS：吐槽一下，仅就QMC条目而言，维基百科中文和英文页面在详细程度上差距真大。

### Monte Carlo algorithm
[蒙特卡罗算法 - 维基百科 --- Monte Carlo algorithm - Wikipedia](https://en.wikipedia.org/wiki/Monte_Carlo_algorithm)
维基强调：Not to be confused with [Monte Carlo method](https://en.wikipedia.org/wiki/Monte_Carlo_method "Monte Carlo method"). 这是为啥？

### Monte Carlo method
基本思路：
1. 定义一个伪随机数的范围，并用伪随机算法随机生成伪随机数
2. 执行确定性（一样的输入会得到一样的输出）的计算以得到输出结果
3. 汇总结果

举个例子，比如要用MC来计算依次抛出十枚硬币，都是正面的概率。
1. 定义一个伪随机数生成器，输出为0和1，概率均为1/2。每次生成十个数，循环n次
2. 根据生成的十个数来判断是不是都为1
3. 循环n次后，统计都是1和不都是1的两种情况的样本数，得到频率=》概率
有两点需要考虑：
- 如果随机数不是均匀分布的，那么近似将会很差。
- n较小的时候近似性很差，随着n增大，一般近似性会越来越好

![[IMG-20241027130810893.png]]
↑用mc来近似圆周率
### Quasi-Monte Carlo method
![[IMG-20241027130914014.png]]
普通的MC是用普通的伪随机算法生成的伪随机序列，而QMC则使用了低离散序列（准随机序列，这个“准”表示低离散序列的值既非随机也非伪随机，但这些序列在某些方面具有随机变量的特性）
从上图可以看出，伪随机序列更加混乱，而低离散序列则更加“有序”

关于低离散度序列：[低离散序列 - 维基百科 --- Low-discrepancy sequence - Wikipedia](https://en.wikipedia.org/wiki/Low-discrepancy_sequence)
维基上有大量数学公式，看的头痛。

QMC一般使用的低离散序列是Halton 序列、Sobol 序列或 Faure 序列等，具体介绍后边再看。

优点：
- 方差小，准确性高
- 收敛速度快
缺点：
- 维基上的看不懂QAQ